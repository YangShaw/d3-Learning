<!-- index.html -->
<!DOCTYPE html> 
<html> 
	<head> 
		<meta charset="utf-8">
		<title>Simple D3 Dev Env</title> 
		<script type="text/javascript" src="js/d3.js"> </script> 
		<script type="text/javascript" src="js/index.js"></script>
		<style>  
			div.bar {
			    display: inline-block;
			    width: 20px;
			    margin-right: 2px;
			    background-color: teal;
			}

			.pumpkin {
		        fill: yellow;
		            stroke: orange;
		            stroke-width: 5;
		    }
		  
		</style> 

	</head> 

	<body> 
		<p> hello world 1 </p>
		<p> hello world 2 </p>
		<p> hello world 3 </p>
		<p id="key"> hello world 4 </p>



	</body> 

	<script>
		var body=d3.select("body");

		body.transition().style("background-color","green");

		<svg width=500 height=960>

		    <rect x="0" y="0" width="500" height="50"/>
		    <ellipse cx="250" cy="225" rx="100" ry="25"/>
		    <line x1="0" y1="120" x2="500" y2="50" stroke="black"/>
		    <text x="250" y="155" font-family="sans-serif" 
		            font-size="25" fill="gray">Easy-peasy</text>
		    <circle cx="25" cy="80" r="20"
		            fill="rgba(128, 0, 128, 0.75)" 
		            stroke="rgba(0, 255, 0, 0.25)" 
		            stroke-width="100"/>
		    <circle cx="75" cy="80" r="20"
		            fill="rgba(0, 255, 0, 0.75)"
		            stroke="rgba(0, 0, 255, 0.25)" stroke-width="10"/>
		    <circle cx="125" cy="80" r="20"
		            fill="rgba(255, 255, 0, 0.75)"
		            stroke="rgba(255, 0, 0, 0.25)" stroke-width="10"/>
		    <rect x="0" y="300" width="30" height="30" fill="purple"/>
		    <rect x="20" y="305" width="30" height="30" fill="blue"/>
		    <rect x="40" y="310" width="30" height="30" fill="green"/>
		    <rect x="60" y="315" width="30" height="30" fill="yellow"/>
		    <rect x="80" y="320" width="30" height="30" fill="red"/>
		    <circle cx="25" cy="425" r="22" class="pumpkin"/>
		    <circle cx="25" cy="525" r="20" fill="rgba(128, 0, 128, 1.0)"/>
		    <circle cx="50" cy="525" r="20" fill="rgba(0, 0, 255, 0.75)"/>
		    <circle cx="75" cy="525" r="20" fill="rgba(0, 255, 0, 0.5)"/>
		    <circle cx="100" cy="525" r="20" fill="rgba(255, 255, 0, 0.25)"/>
		    <circle cx="125" cy="525" r="20" fill="rgba(255, 0, 0, 0.1)"/>
		    <circle cx="25" cy="625" r="20" fill="purple" 
		            stroke="green" stroke-width="10"
		            opacity="0.9"/>
		    <circle cx="65" cy="625" r="20" fill="green"
		            stroke="blue" stroke-width="10"
		            opacity="0.5"/>
		    <circle cx="105" cy="625" r="20" fill="yellow"
		            stroke="red" stroke-width="10"
		            opacity="0.1"/>
		</svg>


		//获取特定格式的时间。

		var formatTime = d3.timeFormat("%B %d, %Y");

		var myDate = new Date();
		var curTime = myDate.toLocaleTimeString();
		var curDate = myDate.toLocaleString();


		var new_p2 = body.append("p");
		var new_p3 = body.append("p");
		var new_p4 = body.append("p");
		var new_p5 = body.append("p");

		var dataset2 = [10,20,30,40,50];
		body.selectAll("div")
			.data(dataset2)
			.enter()
			.append("div")
			.attr("class","bar")
			.style("height",function(d){
				return (d*5)+"px";
			});

		
		

	
		new_p2.text(formatTime(new Date(2017,10,4)));
		new_p3.text(curTime);
		new_p4.text(curDate);
		new_p5.text(formatTime(curDate));

		var set = ["russell","adams","kanter"];


		var p = d3.select("body").selectAll("p");

		p.data(set).text(function(d,i){
			if(i%2==0){
				return d;
			} else {
				return d+" ddd";
			}
		});


		var p2=d3.select("body").select("#key");
		p2.style("color","red");		
		p2.data(set).text(function(d,i){

			return d;
		})

		var new_p = body.append("p");
		new_p.text("hello world 4");
		

		var width = 600;  
        var height = 600;  
        var svg = d3.select("body").append("svg")  
                       .attr("width",width)  
                       .attr("height",height);  
          
        var dataset = [ 30 , 20 , 50 , 10 , 40 ];  

        var scale = d3.scaleLinear().domain([0,d3.max(dataset)]).range([0,500]);

        var axis=d3.axisBottom().scale(scale);

        var gxis=svg.append("g").attr("transform", "translate(80,80)");



          
        svg.selectAll("rect")  
           .data(dataset)  
           .enter()  
           .append("rect")  
           .attr("x",10)  
           .attr("y",function(d,i){  
                return i * 30;  
           })  
           .attr("width",scale)  
           .attr("height",28)  
           .attr("fill","red"); 

        axis(gxis);

        d3.selectAll("p").transition()
    	.duration(750)
    	.delay(function(d, i) { return i * 10; })
    	.attr("r", function(d) { return Math.sqrt(d * scale); });

        


	</script>

</html>

